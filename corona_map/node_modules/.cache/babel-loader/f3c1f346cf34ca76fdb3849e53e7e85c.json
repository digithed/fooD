{"ast":null,"code":"var _jsxFileName = \"/Users/nick/Documents/corona_food/corona_map/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Icon } from \"leaflet\";\nimport { css } from \"@emotion/core\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport axios from 'axios';\nconst override = css`\n  display: block;\n  margin-top: 200px;\n  border-color: green;\n`;\nvar flag = 0;\nvar flag2 = 0;\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      'location': null,\n      'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n      'lat': 0,\n      'long': 0,\n      'map': null,\n      'active': null,\n      'isActive': false,\n      'isgood': false,\n      'popup': null,\n      'popPosition': null,\n      'loading': false,\n      'food_type': false,\n      \"data2\": null\n    };\n  }\n\n  componentDidMount() {\n    this.myRef = React.createRef();\n    console.log(this.myRef.target.value);\n  }\n\n  handleFoodSearch(e) {\n    flag2++;\n\n    if (flag2 > 4) {\n      var my_data;\n      my_data = this.state.data.filter(biz => {\n        if (biz.categories[0].alias.includes(e.target.value)) {\n          return biz;\n        }\n      });\n      this.setState({\n        food_type: true,\n        data2: my_data\n      });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      loading: true\n    });\n    flag++;\n\n    if (flag % 5 == 0) {\n      axios.get('https://cors-anywhere.herokuapp.com/' + 'https://api.yelp.com/v3/businesses/search', {\n        params: {\n          location: e.target.value,\n          limit: 40\n        },\n        headers: {\n          Authorization: 'Bearer ' + this.state.apiKey\n        }\n      }).then(res => {\n        console.log(res.data);\n        res.data = res.data.businesses.filter(biz => {\n          if (biz.transactions[0] == 'delivery' || biz.transactions[1] == 'delivery') {\n            return biz;\n          }\n        });\n        console.log(res.data);\n        this.setState({\n          data: res.data,\n          isgood: true,\n          lat: res.data[0].coordinates.latitude,\n          long: res.data[0].coordinates.longitude,\n          loading: false\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, \"QuickDeliver\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.myref,\n      value: this.state.location,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, \"Food Type\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.myref,\n      onChange: this.handleFoodSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(PulseLoader, {\n      css: override,\n      size: 25,\n      color: \"#123abc\",\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }), this.state.isgood && /*#__PURE__*/React.createElement(Map, {\n      center: [this.state.lat, this.state.long],\n      zoom: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href= \\\"https://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }\n    }), this.state.food_type && this.state.data2.map(b => /*#__PURE__*/React.createElement(Marker, {\n      key: b.id,\n      position: [b.coordinates.latitude, b.coordinates.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      position: [b.coordinates.latitude, b.coordinates.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, b.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, \"Known for: \", b.categories[0].title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: b.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 10\n      }\n    }, \"Yelp Page\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, \"Phone: \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"tel:\" + b.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, b.phone)))))) || this.state.data.map(b => /*#__PURE__*/React.createElement(Marker, {\n      key: b.id,\n      position: [b.coordinates.latitude, b.coordinates.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      position: [b.coordinates.latitude, b.coordinates.longitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, b.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, \"Known for: \", b.categories[0].title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: b.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 10\n      }\n    }, \"Yelp Page\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, \"Phone: \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"tel:\" + b.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, b.phone))))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nick/Documents/corona_food/corona_map/src/App.js"],"names":["React","Map","Marker","Popup","TileLayer","Icon","css","PulseLoader","axios","override","flag","flag2","App","Component","state","componentDidMount","myRef","createRef","console","log","target","value","handleFoodSearch","e","my_data","data","filter","biz","categories","alias","includes","setState","food_type","data2","handleChange","loading","get","params","location","limit","headers","Authorization","apiKey","then","res","businesses","transactions","isgood","lat","coordinates","latitude","long","longitude","catch","err","render","myref","bind","map","b","id","name","title","url","phone"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {Map, Marker, Popup, TileLayer} from 'react-leaflet';\nimport {Icon} from \"leaflet\";\nimport { css } from \"@emotion/core\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport axios from 'axios';\n\nconst override = css`\n  display: block;\n  margin-top: 200px;\n  border-color: green;\n`;\n\nvar flag = 0;\nvar flag2 = 0;\nclass App extends React.Component {\n  state = {\n    'location': null,\n    'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n    'lat': 0,\n    'long': 0,\n    'map': null,\n    'active': null,\n    'isActive': false,\n    'isgood': false,\n    'popup': null,\n    'popPosition': null,\n    'loading': false,\n    'food_type': false,\n    \"data2\" : null,\n    \n  }\n\n  componentDidMount(){\n    this.myRef = React.createRef();\n    console.log(this.myRef.target.value)\n  }\n\n\n\nhandleFoodSearch(e){\n  flag2++\n  if(flag2 > 4){\n  var my_data;\n  my_data = this.state.data.filter(biz => {\n    if(biz.categories[0].alias.includes(e.target.value)){\n      return biz;\n    }\n   \n  });\n  \n  this.setState({food_type: true, data2: my_data});\n}\n\n}\n\n  handleChange(e){\n    this.setState({loading: true});\n    flag++;\n    if(flag % 5 == 0){\n    axios.get('https://cors-anywhere.herokuapp.com/'+'https://api.yelp.com/v3/businesses/search', {\n     params: {\n      location: e.target.value,\n      limit: 40,\n     },\n     headers: {\n    Authorization: 'Bearer ' + this.state.apiKey\n }\n    })\n    .then( res => {\n      console.log(res.data);\n      res.data = res.data.businesses.filter((biz) => {\n        if(biz.transactions[0] == 'delivery' ||\n          biz.transactions[1] == 'delivery'){\n          return biz\n        }\n\n      })\n       console.log(res.data);\n      this.setState({data: res.data, isgood: true,\n       lat: res.data[0].coordinates.latitude,\n        long: res.data[0].coordinates.longitude,\n        loading: false\n      });\n    \n    })\n    .catch( err => {\n      console.log(err);\n    })\n  }\n\n  }\n  render(){\n  \n  return( \n    <div className=\"App\">\n    <h1>QuickDeliver</h1>\n    <br></br>\n    \n    <label>Location</label>\n    <input ref={this.myref} value={this.state.location} onChange={this.handleChange.bind(this)}/>\n    <label>Food Type</label>\n    <input ref={this.myref} onChange={this.handleFoodSearch.bind(this)}/>\n  \n\n    <PulseLoader\n          css={override}\n          size={25}\n          color={\"#123abc\"}\n          loading={this.state.loading}\n        />\n    {this.state.isgood && (\n    <Map center={[this.state.lat, this.state.long]} zoom={12}>\n    <TileLayer\n    url = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    attribution = '&copy; <a href= \"https://osm.org/copyright\">OpenStreetMap</a>\n    contributors'\n    />\n\n    \n        {this.state.food_type && this.state.data2.map((b) => (\n          <Marker key={b.id}\n      position={[b.coordinates.latitude, b.coordinates.longitude]}\n       >\n       <Popup  \n       position={[b.coordinates.latitude, b.coordinates.longitude]} >\n        <div>\n      <h2>{b.name}</h2>\n      <p>Known for: {b.categories[0].title}</p> \n      <p><a href={b.url}>Yelp Page</a></p>\n      <p>Phone: <a href={\"tel:\" + b.phone}>{b.phone}</a></p> \n      </div>\n      </Popup>\n        \n  \n      </Marker>))\n    ||\n      this.state.data.map((b) => (\n      <Marker key={b.id}\n      position={[b.coordinates.latitude, b.coordinates.longitude]}\n       >\n       <Popup  \n       position={[b.coordinates.latitude, b.coordinates.longitude]} >\n        <div>\n      <h2>{b.name}</h2>\n      <p>Known for: {b.categories[0].title}</p> \n      <p><a href={b.url}>Yelp Page</a></p>\n      <p>Phone: <a href={\"tel:\" + b.phone}>{b.phone}</a></p> \n      </div>\n      </Popup>\n        \n  \n      </Marker>\n\n      ))}\n\n    </Map>\n    )}\n\n  </div>\n  );\n}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}