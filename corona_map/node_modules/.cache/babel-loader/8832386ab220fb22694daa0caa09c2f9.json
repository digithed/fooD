{"ast":null,"code":"var _jsxFileName = \"/Users/nick/Documents/corona_food/corona_map/src/components/SubMain.js\";\nimport React from 'react';\nimport Search from './Search.js';\nimport axios from 'axios';\nimport { apiCall } from './utils.js';\nimport { Checkbox, Grid, Header, Icon, Image, Menu, Segment, Sidebar } from 'semantic-ui-react';\n\nclass SubMain extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n      'active': null,\n      'isActive': false,\n      'loading': false,\n      'data2': null,\n      'pickupChecked': false,\n      'popup': true,\n      'isgood': false,\n      'food_type': null,\n      'location': null,\n      'food_filter': false,\n      'user_loc': [0, 0],\n      'viewport': {\n        center: [0, 0],\n        zoom: 15\n      },\n      'data': null,\n      'lat': null,\n      'visable': false,\n      'points': 0\n    };\n  }\n\n  componentDidMount() {\n    var send = {\n      term: null,\n      location: null,\n      lat: this.props.user_loc[0],\n      long: this.props.user_loc[1]\n    };\n    axios.post('http://localhost:3001/apiCall', send).then(res => {\n      var r = res.data;\n      console.log(r.data);\n      this.setState({\n        data: r.data,\n        data2: r.data,\n        isgood: r.isgood,\n        viewport: r.viewport,\n        loading: r.isloading,\n        lat: this.props.user_loc[0],\n        long: this.props.user_loc[1]\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      location: e.target.value\n    });\n  }\n\n  handleChange2(e) {\n    this.setState({\n      term: e.target.value\n    });\n  }\n\n  handleFoodSearch(e) {\n    this.setState({\n      food_filter: false\n    });\n    var my_data;\n    my_data = this.state.data.filter(biz => {\n      var i;\n\n      for (i = 0; i < biz.categories.length; i++) {\n        var item = biz.categories[i].title.toUpperCase();\n\n        if (item.includes(e.target.value.toUpperCase())) {\n          return biz;\n        }\n      }\n    });\n    this.setState({\n      food_type: e.target.value,\n      food_filter: true,\n      data2: my_data\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      loading: true\n    });\n    var send = {\n      term: this.state.term,\n      location: this.state.location,\n      lat: null,\n      long: null\n    };\n    axios.post('http://localhost:3001/apiCall', send).then(res => {\n      var r = res.data;\n      this.setState({\n        data: r.data,\n        data2: r.data,\n        isgood: r.isgood,\n        viewport: r.viewport,\n        loading: r.isloading,\n        lat: this.props.user_loc[0],\n        long: this.props.user_loc[1]\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  setVisible(e, data) {\n    this.setState({\n      visible: e\n    });\n  }\n\n  dpoints() {\n    this.setState({\n      points: this.state.points + 1\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      columns: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar.Pushable, {\n      as: Segment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      as: Menu,\n      animation: \"overlay\",\n      icon: \"labeled\",\n      inverted: true,\n      onHide: () => this.setVisible(false),\n      vertical: true,\n      visible: this.state.visible,\n      width: \"thin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Menu.Item, {\n      as: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }), `D-Points: ${this.state.points}`), /*#__PURE__*/React.createElement(Menu.Item, {\n      as: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"gamepad\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }), \"Latest update\"), /*#__PURE__*/React.createElement(Menu.Item, {\n      as: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"camera\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }), \"Channels\"), /*#__PURE__*/React.createElement(Menu.Item, {\n      as: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 6\n      }\n    }, \"Restaurant Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.term,\n      onChange: this.handleChange2.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 6\n      }\n    }, \"Other Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.location,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 6\n      }\n    }, \"Food Type\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.food_type,\n      onChange: this.handleFoodSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }\n    }))), /*#__PURE__*/React.createElement(Sidebar.Pusher, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      basic: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, this.state.isgood && /*#__PURE__*/React.createElement(Search, {\n      food_type: this.state.food_type,\n      data: this.state.data,\n      data2: this.state.data2,\n      isgood: this.state.isgood,\n      apiCall: this.apiCall,\n      viewport: this.state.viewport,\n      recurse: this.props.reset,\n      user_lat: this.props.user_loc[0],\n      user_long: this.props.user_loc[1],\n      prepare: this.prepare,\n      dpoints: this.dpoints.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 2\n      }\n    })))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 2\n      }\n    }));\n  }\n\n}\n\nexport default SubMain;","map":{"version":3,"sources":["/Users/nick/Documents/corona_food/corona_map/src/components/SubMain.js"],"names":["React","Search","axios","apiCall","Checkbox","Grid","Header","Icon","Image","Menu","Segment","Sidebar","SubMain","Component","state","center","zoom","componentDidMount","send","term","location","lat","props","user_loc","long","post","then","res","r","data","console","log","setState","data2","isgood","viewport","loading","isloading","catch","err","handleChange","e","target","value","handleChange2","handleFoodSearch","food_filter","my_data","filter","biz","i","categories","length","item","title","toUpperCase","includes","food_type","handleSubmit","preventDefault","setVisible","visible","dpoints","points","render","bind","reset","prepare"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Search from './Search.js'\nimport axios from 'axios';\nimport {apiCall} from './utils.js'\n\nimport {\n  Checkbox,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  Menu,\n  Segment,\n  Sidebar,\n} from 'semantic-ui-react'\n\n\nclass SubMain extends React.Component {\n\nstate = {\n    'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n    'active': null,\n    'isActive': false,\n    'loading': false,\n    'data2' : null,\n    'pickupChecked': false,\n    'popup': true,\n    'isgood': false,\n\t 'food_type': null,\n\t 'location': null,\n\t 'food_filter': false,\n\t 'user_loc': [0,0],\n\t 'viewport': {center: [0,0], zoom: 15},\n\t 'data': null,\n\t 'lat': null,\n\t 'visable': false,\n\t 'points': 0,\n\t}\n\n\ncomponentDidMount(){\n\tvar send = {term: null, location: null, lat: this.props.user_loc[0], long: this.props.user_loc[1]};\n\t\n\taxios.post('http://localhost:3001/apiCall', send)\n\t.then( (res) => {\n\t\tvar r = res.data\n\t\tconsole.log(r.data);\n\t\tthis.setState({data: r.data, data2: r.data, isgood: r.isgood, viewport: r.viewport,\n\t\t loading: r.isloading, lat: this.props.user_loc[0], long: this.props.user_loc[1]});\n\t})\n\t.catch( (err) => {\n\t\tconsole.log(err);\n\t})\n}\n\n\n\t\n\nhandleChange(e){\n  this.setState({location: e.target.value});\n}\n\nhandleChange2(e){\n  this.setState({term: e.target.value});\n}\n\nhandleFoodSearch(e){\n\tthis.setState({food_filter: false});\n   var my_data;\n  my_data = this.state.data.filter(biz => {\n  \tvar i;\n  \tfor(i=0; i < biz.categories.length; i++){\n  \t\tvar item = biz.categories[i].title.toUpperCase()\n  \t\tif(item.includes(e.target.value.toUpperCase())){\n      return biz;\n    }\n  \t}\n    \n  \n  });\n\nthis.setState({food_type: e.target.value, food_filter:true, data2: my_data});\n\n}\n\n handleSubmit(e){\n    e.preventDefault();\n    this.setState({loading: true});\n  \tvar send = {term: this.state.term, location: this.state.location, lat: null, long: null};\n\t\n\taxios.post('http://localhost:3001/apiCall', send)\n\t.then( (res) => {\n\t\tvar r = res.data;\n\t\tthis.setState({data: r.data, data2: r.data, isgood: r.isgood, viewport: r.viewport,\n\t\t loading: r.isloading, lat: this.props.user_loc[0], long: this.props.user_loc[1]});\n\t})\n\t.catch( (err) => {\n\t\tconsole.log(err);\n\t})\n  }\n\n  setVisible(e, data){\n  \t\n  \tthis.setState({visible: e});\n  }\n\n  dpoints(){\n  \tthis.setState({points: this.state.points + 1});\n  }\n\n\n\n\n\nrender(){\n\treturn(\n\t<div>\n\t \n\t <Grid columns={1}>\n\n      <Grid.Column>\n        <Sidebar.Pushable as={Segment}>\n          <Sidebar\n            as={Menu}\n            animation='overlay'\n            icon='labeled'\n            inverted\n            onHide={() => this.setVisible(false)}\n            vertical\n            visible={this.state.visible}\n            width='thin'\n          >\n            <Menu.Item as='a'>\n              <Icon name='home' />\n             {`D-Points: ${this.state.points}`}\n            </Menu.Item>\n            <Menu.Item as='a'>\n              <Icon name='gamepad' />\n              Latest update\n            </Menu.Item>\n            <Menu.Item as='a'>\n              <Icon name='camera' />\n              Channels\n            </Menu.Item>\n         <Menu.Item as='a'>\n    \t<form onSubmit={this.handleSubmit.bind(this)}>\n    \t<label>Restaurant Name</label>\n    \t<input type=\"text\" value={this.state.term} onChange={this.handleChange2.bind(this)}/>\n    \t<label>Other Location</label>\n    \t<input type=\"text\" value={this.state.location} onChange={this.handleChange.bind(this)}/>\n    \t<input type=\"submit\" value=\"Submit\"/>\n    \t</form>\n    \t<br></br>\n    \t<label>Food Type</label>\n    \t<input type=\"text\" value={this.state.food_type} onChange={this.handleFoodSearch.bind(this)}/>\n         </Menu.Item>\n         </Sidebar>\n\n          <Sidebar.Pusher>\n            <Segment basic>\n            {this.state.isgood && (\n\t<Search food_type={this.state.food_type}\n\tdata={this.state.data} data2={this.state.data2}\n\tisgood={this.state.isgood} apiCall={this.apiCall}\n\tviewport={this.state.viewport}\n\trecurse={this.props.reset} user_lat={this.props.user_loc[0]}\n\tuser_long={this.props.user_loc[1]} prepare={this.prepare} dpoints={this.dpoints.bind(this)} />\n\t \n\t)}\n              \n            </Segment>\n          </Sidebar.Pusher>\n        </Sidebar.Pushable>\n      </Grid.Column>\n    </Grid>\n\t<br></br>\n\n\n\t </div>\n\t);\n\n}\n\n}\n\nexport default SubMain"]},"metadata":{},"sourceType":"module"}