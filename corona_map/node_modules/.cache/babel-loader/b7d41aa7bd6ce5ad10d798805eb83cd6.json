{"ast":null,"code":"var _jsxFileName = \"/Users/nick/Documents/corona_food/corona_map/src/components/Menu.js\";\nimport React from 'react';\nimport Search from './Search.js';\nimport axios from 'axios';\nimport { apiCall } from './utils.js';\n\nclass Menu extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n      'active': null,\n      'isActive': false,\n      'loading': false,\n      'data2': null,\n      'pickupChecked': false,\n      'popup': true,\n      'isgood': false,\n      'food_type': null,\n      'location': null,\n      'food_filter': false,\n      'user_loc': [0, 0],\n      'viewport': {\n        center: [0, 0],\n        zoom: 15\n      },\n      'data': null\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.state.lat != this.props.user_loc[0]) {\n      console.log('hi');\n      var send = {\n        location: null,\n        lat: this.props.user_loc[0],\n        long: this.props.user_loc[1]\n      };\n      axios.post('http://localhost:3001/apiCall', send).then(res => {\n        var r = res.data;\n        console.log(r);\n        this.setState({\n          data: r.data,\n          data2: r.data,\n          isgood: r.isgood,\n          viewport: r.viewport,\n          loading: r.isloading\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      console.log(this.props_user_loc[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      location: e.target.value\n    });\n  }\n\n  handleFoodSearch(e) {\n    this.setState({\n      food_filter: false\n    });\n    var my_data;\n    my_data = this.state.data.filter(biz => {\n      var i;\n\n      for (i = 0; i < biz.categories.length; i++) {\n        var item = biz.categories[i].title.toUpperCase();\n\n        if (item.includes(e.target.value.toUpperCase())) {\n          return biz;\n        }\n      }\n    });\n    this.setState({\n      food_type: e.target.value,\n      food_filter: true,\n      data2: my_data\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      loading: true\n    });\n    apiCall(this.state.location, null, null);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 2\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }\n    }, \"Other Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.location,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }, \"Food Type\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.food_type,\n      onChange: this.handleFoodSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }), this.state.isgood && /*#__PURE__*/React.createElement(Search, {\n      food_type: this.state.food_type,\n      data: this.state.data,\n      data2: this.state.data2,\n      isgood: this.state.isgood,\n      apiCall: this.apiCall,\n      viewport: this.state.viewport,\n      recurse: this.props.reset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 2\n      }\n    }));\n  }\n\n}\n\nexport default Menu;","map":{"version":3,"sources":["/Users/nick/Documents/corona_food/corona_map/src/components/Menu.js"],"names":["React","Search","axios","apiCall","Menu","Component","state","center","zoom","componentDidUpdate","lat","props","user_loc","console","log","send","location","long","post","then","res","r","data","setState","data2","isgood","viewport","loading","isloading","catch","err","props_user_loc","handleChange","e","target","value","handleFoodSearch","food_filter","my_data","filter","biz","i","categories","length","item","title","toUpperCase","includes","food_type","handleSubmit","preventDefault","render","bind","reset"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Search from './Search.js'\nimport axios from 'axios';\nimport {apiCall} from './utils.js'\n\nclass Menu extends React.Component {\n\nstate = {\n    'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n    'active': null,\n    'isActive': false,\n    'loading': false,\n    'data2' : null,\n    'pickupChecked': false,\n    'popup': true,\n    'isgood': false,\n\t 'food_type': null,\n\t 'location': null,\n\t 'food_filter': false,\n\t 'user_loc': [0,0],\n\t 'viewport': {center: [0,0], zoom: 15},\n\t 'data': null,\n}\n\ncomponentDidUpdate(){\n\tif(this.state.lat != this.props.user_loc[0]){\n\t\tconsole.log('hi');\n\tvar send = {location: null, lat: this.props.user_loc[0], long: this.props.user_loc[1]};\n\t\n\taxios.post('http://localhost:3001/apiCall', send)\n\t.then( (res) => {\n\t\tvar r = res.data\n\t\tconsole.log(r);\n\t\tthis.setState({data: r.data, data2: r.data, isgood: r.isgood, viewport: r.viewport, loading: r.isloading});\n\t})\n\t.catch( (err) => {\n\t\tconsole.log(err);\n\t})\n}\nelse{\n\tconsole.log(this.props_user_loc[0])\n}\n\n\t\n}\n\t\n\nhandleChange(e){\n  this.setState({location: e.target.value});\n}\n\nhandleFoodSearch(e){\n\tthis.setState({food_filter: false});\n   var my_data;\n  my_data = this.state.data.filter(biz => {\n  \tvar i;\n  \tfor(i=0; i < biz.categories.length; i++){\n  \t\tvar item = biz.categories[i].title.toUpperCase()\n  \t\tif(item.includes(e.target.value.toUpperCase())){\n      return biz;\n    }\n  \t}\n    \n  \n  });\n\nthis.setState({food_type: e.target.value, food_filter:true, data2: my_data});\n\n}\n\n handleSubmit(e){\n    e.preventDefault();\n    this.setState({loading: true});\n  \tapiCall(this.state.location, null,null);\n  }\n\n\n\n\nrender(){\n\treturn(\n\t<div>\n\t<br></br>\n\t<form onSubmit={this.handleSubmit.bind(this)}>\n    <label>Other Location</label>\n    <input type=\"text\" value={this.state.location} onChange={this.handleChange.bind(this)}/>\n    <input type=\"submit\" value=\"Submit\"/>\n    </form>\n    <br></br>\n    <label>Food Type</label>\n    <input type=\"text\" value={this.state.food_type} onChange={this.handleFoodSearch.bind(this)}/>\n\n\t{this.state.isgood && (\n\t<Search food_type={this.state.food_type}\n\tdata={this.state.data} data2={this.state.data2}\n\tisgood={this.state.isgood} apiCall={this.apiCall}\n\tviewport={this.state.viewport}\n\trecurse={this.props.reset} />\n\t \n\t)}\n\n\t</div>\n\t);\n\n}\n\n}\n\nexport default Menu"]},"metadata":{},"sourceType":"module"}