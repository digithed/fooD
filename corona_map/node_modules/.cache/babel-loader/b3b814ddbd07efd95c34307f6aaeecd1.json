{"ast":null,"code":"var _jsxFileName = \"/Users/nick/Documents/corona_food/corona_map/src/components/Menu.js\";\nimport React from 'react';\nimport Search from './Search.js';\nimport axios from 'axios';\n\nclass Menu extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n      'lat': 0,\n      'long': 0,\n      'map': null,\n      'active': null,\n      'isActive': false,\n      'isgood': false,\n      'popup': null,\n      'popPosition': null,\n      'loading': false,\n      'data2': null,\n      'pickupChecked': false,\n      'popup': true,\n      'food_type': null,\n      'location': null\n    };\n\n    this.apiCall = (lat, long) => {\n      console.log(lat);\n      console.log(long);\n      axios.get('https://cors-anywhere.herokuapp.com/' + 'https://api.yelp.com/v3/businesses/search', {\n        params: {\n          location: this.state.location,\n          latitude: lat,\n          longitude: long,\n          limit: 20\n        },\n        headers: {\n          Authorization: 'Bearer ' + this.state.apiKey\n        }\n      }).then(res => {\n        console.log(res.data);\n\n        if (!this.state.pickupChecked) {\n          res.data = res.data.businesses.filter(biz => {\n            if (biz.rating >= 4) {\n              return biz;\n            }\n          });\n        }\n\n        this.setState({\n          data: res.data,\n          data2: res.data,\n          isgood: true,\n          viewport: {\n            center: [res.data[0].coordinates.latitude, res.data[0].coordinates.longitude],\n            zoom: 15\n          },\n          loading: false\n        });\n        console.log(this.state.viewport);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      location: e.target.value\n    });\n  }\n\n  handleFoodSearch(e) {\n    var my_data;\n    my_data = this.state.data.filter(biz => {\n      if (biz.categories[0].alias.includes(e.target.value)) {\n        return biz;\n      }\n    });\n    this.setState({\n      food_type: e.target.value,\n      data2: my_data\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      loading: true\n    });\n    this.apiCall(null, null);\n  }\n\n  render() {\n    {\n      this.props.userFind && this.apiCall(this.props.user_lat, this.props.user_long);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, \"Other Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.location,\n      onChange: this.handleChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, \"Food Type\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.food_type,\n      onChange: this.handleFoodSearch.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }), \")\", /*#__PURE__*/React.createElement(Search, {\n      food_type: this.state.food_type,\n      data2: this.state.data2,\n      isgood: this.state.isgood,\n      apiCall: this.apiCall,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 2\n      }\n    }));\n  }\n\n}\n\nexport default Menu;","map":{"version":3,"sources":["/Users/nick/Documents/corona_food/corona_map/src/components/Menu.js"],"names":["React","Search","axios","Menu","Component","state","apiCall","lat","long","console","log","get","params","location","latitude","longitude","limit","headers","Authorization","apiKey","then","res","data","pickupChecked","businesses","filter","biz","rating","setState","data2","isgood","viewport","center","coordinates","zoom","loading","catch","err","handleChange","e","target","value","handleFoodSearch","my_data","categories","alias","includes","food_type","handleSubmit","preventDefault","render","props","userFind","user_lat","user_long","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Search from './Search.js'\nimport axios from 'axios';\n\nclass Menu extends React.Component {\n\nstate = {\n    'apiKey': 'BDKJluIkcQa-Lwn_Ye9BfW_m8ajO-agWP-WXdpyAMJ3O6iAhangiPCn8Sjch8MF2mikafe4gxR1xxM0h69cCAYBuFlTn0tOvHc2vpiogz3TAHkaRGDeZVRXf46i9XnYx',\n    'lat': 0,\n    'long': 0,\n    'map': null,\n    'active': null,\n    'isActive': false,\n    'isgood': false,\n    'popup': null,\n    'popPosition': null,\n    'loading': false,\n    'data2' : null,\n    'pickupChecked': false,\n    'popup': true,\n\n\t 'food_type': null,\n\t 'location': null,\n}\n\nhandleChange(e){\n  this.setState({location: e.target.value});\n}\n\nhandleFoodSearch(e){\n  var my_data;\n  my_data = this.state.data.filter(biz => {\n    if(biz.categories[0].alias.includes(e.target.value)){\n      return biz;\n    }\n  \n  });\n  this.setState({food_type: e.target.value, data2: my_data});\n\n}\n\n handleSubmit(e){\n    e.preventDefault();\n    this.setState({loading: true});\n    this.apiCall(null,null);\n  }\n\napiCall = (lat, long) => {\n  console.log(lat);\n  console.log(long);\n  axios.get('https://cors-anywhere.herokuapp.com/'+'https://api.yelp.com/v3/businesses/search', {\n     params: {\n      location: this.state.location,\n      latitude: lat,\n      longitude: long,\n      limit: 20,\n     },\n     headers: {\n    Authorization: 'Bearer ' + this.state.apiKey\n }\n    })\n    .then( res => {\n      console.log(res.data);\n      if(!this.state.pickupChecked){\n\n      res.data = res.data.businesses.filter((biz) => {\n        if(biz.rating >= 4){\n            return biz;\n          }\n\n      })\n    }\n      this.setState({data: res.data, data2: res.data, isgood: true,\n        viewport: {center: [res.data[0].coordinates.latitude,\n          res.data[0].coordinates.longitude],\n          zoom: 15},\n        loading: false\n      });\n      console.log(this.state.viewport);\n    \n    })\n    .catch( err => {\n      console.log(err);\n    })\n\n}\n\nrender(){\n\t{this.props.userFind && this.apiCall(this.props.user_lat,\n\t\tthis.props.user_long)}\n\treturn(\n\t<div>\n\t<form onSubmit={this.handleSubmit.bind(this)}>\n    <label>Other Location</label>\n    <input type=\"text\" value={this.state.location} onChange={this.handleChange.bind(this)}/>\n    <input type=\"submit\" value=\"Submit\"/>\n    </form>\n    <br></br>\n    <label>Food Type</label>\n    <input type=\"text\" value={this.state.food_type} onChange={this.handleFoodSearch.bind(this)}/>)\n\n\t<Search food_type={this.state.food_type}\n\tdata2={this.state.data2} isgood={this.state.isgood} apiCall={this.apiCall} />\n\t</div>\n\t);\n\n}\n\n}\n\nexport default Menu"]},"metadata":{},"sourceType":"module"}